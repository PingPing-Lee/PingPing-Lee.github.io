(window.webpackJsonp=window.webpackJsonp||[]).push([[158],{430:function(e,r,t){"use strict";t.r(r);var s=t(14),a=Object(s.a)({},(function(){var e=this,r=e._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("p",[e._v("我们都知道跨端开发总是会有各种兼容性问题，这里一一列举项目开发过程踩过的坑！！")]),e._v(" "),r("h2",{attrs:{id:"scrollview-webview"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#scrollview-webview"}},[e._v("#")]),e._v(" ScrollView && WebView")]),e._v(" "),r("p",[r("strong",[e._v("问题描述：")]),e._v(" 在ScrollView 标签内使用 WebView时，会由于系统版本兼容问题，在某些安卓机型(Android 12或其他)上运行的时候滚动到最顶部或最底部时会 "),r("em",[r("font",{attrs:{color:"#d63200"}},[e._v("闪退")])],1)]),e._v(" "),r("p",[r("strong",[e._v("解决办法：")]),e._v(" 因此需要给 ScrollView 标签添加 overScrollMode 和 removeClippedSubviews 属性：")]),e._v(" "),r("ul",[r("li",[e._v("overScrollMode: 覆盖默认的 overScroll 模式，详情 "),r("a",{attrs:{href:"https://www.react-native.cn/docs/scrollview#overscrollmode",target:"_blank",rel:"noopener noreferrer"}},[e._v("请戳这里"),r("OutboundLink")],1)]),e._v(" "),r("li",[e._v("removeClippedSubviews：当此属性为 true 时，屏幕之外的子视图（子视图的overflow样式需要设为hidden）会被移除。这个可以提升大列表的滚动性能，详情 请戳这里")])]),e._v(" "),r("div",{staticClass:"language-js extra-class"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("ScrollView\n  "),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("...")]),e._v("\n  overScrollMode"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[e._v('"never"')]),e._v("\n  removeClippedSubviews"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),r("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("/")]),e._v("ScrollView"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])])]),r("p",[r("em",[r("font",{attrs:{color:"#d63200"}},[e._v("TIPS：")])],1),e._v(" ScrollView 添加了removeClippedSubviews 属性，在内容高度不够撑开一屏时，某些机型上会不显示内容，地图管理页的列表就出现了这个情况，此时的解决办法就是把 ScrollView换成 FlatList，然后把overScrollMode 和 removeClippedSubviews属性加给 FlatList，如下：")]),e._v(" "),r("div",{staticClass:"language-js extra-class"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("FlatList\n  "),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("...")]),e._v("\n  overScrollMode"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[e._v('"never"')]),e._v("\n  removeClippedSubviews"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),r("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("/")]),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])])])])}),[],!1,null,null,null);r.default=a.exports}}]);