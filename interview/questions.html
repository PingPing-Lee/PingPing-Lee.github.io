<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>排序去重 | 平平李</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/img/avatar.png">
    <link rel="stylesheet" href="/css/style.css">
    <meta name="description" content="博客简介">
    
    <link rel="preload" href="/assets/css/0.styles.e8e4f3a3.css" as="style"><link rel="preload" href="/assets/js/app.5f3204df.js" as="script"><link rel="preload" href="/assets/js/2.733019b2.js" as="script"><link rel="preload" href="/assets/js/39.616fe160.js" as="script"><link rel="prefetch" href="/assets/js/10.bcddc892.js"><link rel="prefetch" href="/assets/js/100.3ce02c64.js"><link rel="prefetch" href="/assets/js/101.484a9173.js"><link rel="prefetch" href="/assets/js/102.afd9b6dd.js"><link rel="prefetch" href="/assets/js/103.69585fba.js"><link rel="prefetch" href="/assets/js/104.de8d9228.js"><link rel="prefetch" href="/assets/js/105.e2982d56.js"><link rel="prefetch" href="/assets/js/106.d0942c4f.js"><link rel="prefetch" href="/assets/js/107.ca45f5a8.js"><link rel="prefetch" href="/assets/js/108.e9046824.js"><link rel="prefetch" href="/assets/js/109.96299dc7.js"><link rel="prefetch" href="/assets/js/11.ab97f45a.js"><link rel="prefetch" href="/assets/js/110.c0f26fff.js"><link rel="prefetch" href="/assets/js/111.94b1c561.js"><link rel="prefetch" href="/assets/js/112.c1273ca2.js"><link rel="prefetch" href="/assets/js/113.ddd9e3c7.js"><link rel="prefetch" href="/assets/js/114.341fda88.js"><link rel="prefetch" href="/assets/js/115.0a9070c3.js"><link rel="prefetch" href="/assets/js/116.f0f4be8e.js"><link rel="prefetch" href="/assets/js/117.0957647d.js"><link rel="prefetch" href="/assets/js/118.b5d68001.js"><link rel="prefetch" href="/assets/js/119.7244f3a0.js"><link rel="prefetch" href="/assets/js/12.6cdda477.js"><link rel="prefetch" href="/assets/js/120.90907380.js"><link rel="prefetch" href="/assets/js/121.bd7b49d1.js"><link rel="prefetch" href="/assets/js/122.aed3e252.js"><link rel="prefetch" href="/assets/js/123.714e55f9.js"><link rel="prefetch" href="/assets/js/124.7def4ea6.js"><link rel="prefetch" href="/assets/js/125.84ba357f.js"><link rel="prefetch" href="/assets/js/126.af952a80.js"><link rel="prefetch" href="/assets/js/127.c260d2e0.js"><link rel="prefetch" href="/assets/js/128.907c4e48.js"><link rel="prefetch" href="/assets/js/129.89e3fc55.js"><link rel="prefetch" href="/assets/js/13.97f84e35.js"><link rel="prefetch" href="/assets/js/130.1c1e5fb9.js"><link rel="prefetch" href="/assets/js/131.091d4b65.js"><link rel="prefetch" href="/assets/js/132.a585b6c3.js"><link rel="prefetch" href="/assets/js/133.ad37ec71.js"><link rel="prefetch" href="/assets/js/134.88887c84.js"><link rel="prefetch" href="/assets/js/135.797a5c70.js"><link rel="prefetch" href="/assets/js/136.55f70756.js"><link rel="prefetch" href="/assets/js/137.71ecbd16.js"><link rel="prefetch" href="/assets/js/138.21e7c169.js"><link rel="prefetch" href="/assets/js/139.dcd55144.js"><link rel="prefetch" href="/assets/js/14.4b267645.js"><link rel="prefetch" href="/assets/js/140.732ab060.js"><link rel="prefetch" href="/assets/js/141.770afe6b.js"><link rel="prefetch" href="/assets/js/142.9ae23017.js"><link rel="prefetch" href="/assets/js/143.77dfb747.js"><link rel="prefetch" href="/assets/js/144.880517e4.js"><link rel="prefetch" href="/assets/js/145.cb90aa44.js"><link rel="prefetch" href="/assets/js/146.1ef2f798.js"><link rel="prefetch" href="/assets/js/147.ecaa6381.js"><link rel="prefetch" href="/assets/js/148.ccfe4ce4.js"><link rel="prefetch" href="/assets/js/149.4c04e52a.js"><link rel="prefetch" href="/assets/js/15.ce70f5e8.js"><link rel="prefetch" href="/assets/js/150.5996983e.js"><link rel="prefetch" href="/assets/js/151.2386b976.js"><link rel="prefetch" href="/assets/js/152.040e3673.js"><link rel="prefetch" href="/assets/js/153.e63e5173.js"><link rel="prefetch" href="/assets/js/154.4de5b018.js"><link rel="prefetch" href="/assets/js/155.1d03cb4f.js"><link rel="prefetch" href="/assets/js/156.d633af77.js"><link rel="prefetch" href="/assets/js/157.a9f3cfb7.js"><link rel="prefetch" href="/assets/js/158.6f1b723b.js"><link rel="prefetch" href="/assets/js/159.8040d2b9.js"><link rel="prefetch" href="/assets/js/16.357efc39.js"><link rel="prefetch" href="/assets/js/160.26dadcb8.js"><link rel="prefetch" href="/assets/js/161.ff40a506.js"><link rel="prefetch" href="/assets/js/162.41f1d09c.js"><link rel="prefetch" href="/assets/js/163.d7a9d58b.js"><link rel="prefetch" href="/assets/js/164.bf4506a0.js"><link rel="prefetch" href="/assets/js/165.e0d36896.js"><link rel="prefetch" href="/assets/js/166.9620b7c1.js"><link rel="prefetch" href="/assets/js/167.b306fad5.js"><link rel="prefetch" href="/assets/js/168.ff2f7ad0.js"><link rel="prefetch" href="/assets/js/169.f5c56c1b.js"><link rel="prefetch" href="/assets/js/17.334918ce.js"><link rel="prefetch" href="/assets/js/170.64ec7d8d.js"><link rel="prefetch" href="/assets/js/171.93d39c2f.js"><link rel="prefetch" href="/assets/js/172.5f403e01.js"><link rel="prefetch" href="/assets/js/173.27141094.js"><link rel="prefetch" href="/assets/js/174.f2aae6e0.js"><link rel="prefetch" href="/assets/js/175.fe5e9c74.js"><link rel="prefetch" href="/assets/js/176.ae07cd20.js"><link rel="prefetch" href="/assets/js/177.5e3af710.js"><link rel="prefetch" href="/assets/js/178.ba323c03.js"><link rel="prefetch" href="/assets/js/179.f2a2e363.js"><link rel="prefetch" href="/assets/js/18.839d7be9.js"><link rel="prefetch" href="/assets/js/180.0132bd88.js"><link rel="prefetch" href="/assets/js/181.3d702f13.js"><link rel="prefetch" href="/assets/js/182.ea7969ea.js"><link rel="prefetch" href="/assets/js/183.4289ec86.js"><link rel="prefetch" href="/assets/js/184.ab44758b.js"><link rel="prefetch" href="/assets/js/185.8cd88b62.js"><link rel="prefetch" href="/assets/js/186.1db59245.js"><link rel="prefetch" href="/assets/js/187.e4c87db3.js"><link rel="prefetch" href="/assets/js/188.47468c03.js"><link rel="prefetch" href="/assets/js/189.34aae32a.js"><link rel="prefetch" href="/assets/js/19.32f5f65a.js"><link rel="prefetch" href="/assets/js/190.a59f8cac.js"><link rel="prefetch" href="/assets/js/191.4d4d80ef.js"><link rel="prefetch" href="/assets/js/192.eddc2022.js"><link rel="prefetch" href="/assets/js/193.591dc5aa.js"><link rel="prefetch" href="/assets/js/194.5eca0628.js"><link rel="prefetch" href="/assets/js/195.c7ccf2b1.js"><link rel="prefetch" href="/assets/js/196.f6ffd2bb.js"><link rel="prefetch" href="/assets/js/197.3a899789.js"><link rel="prefetch" href="/assets/js/198.ac85f1db.js"><link rel="prefetch" href="/assets/js/199.5c2dff7d.js"><link rel="prefetch" href="/assets/js/20.173ed647.js"><link rel="prefetch" href="/assets/js/200.2be7c17d.js"><link rel="prefetch" href="/assets/js/201.9003a94e.js"><link rel="prefetch" href="/assets/js/202.dc612572.js"><link rel="prefetch" href="/assets/js/203.df34627f.js"><link rel="prefetch" href="/assets/js/204.57259712.js"><link rel="prefetch" href="/assets/js/205.d0b730be.js"><link rel="prefetch" href="/assets/js/206.4c8c092f.js"><link rel="prefetch" href="/assets/js/21.2bcfa187.js"><link rel="prefetch" href="/assets/js/22.81d7684d.js"><link rel="prefetch" href="/assets/js/23.9f50d0cc.js"><link rel="prefetch" href="/assets/js/24.708e7192.js"><link rel="prefetch" href="/assets/js/25.3ddf349a.js"><link rel="prefetch" href="/assets/js/26.4b32384a.js"><link rel="prefetch" href="/assets/js/27.cae19531.js"><link rel="prefetch" href="/assets/js/28.a8620b54.js"><link rel="prefetch" href="/assets/js/29.31e2cec0.js"><link rel="prefetch" href="/assets/js/3.d7af5cd7.js"><link rel="prefetch" href="/assets/js/30.77ade17b.js"><link rel="prefetch" href="/assets/js/31.f56892b5.js"><link rel="prefetch" href="/assets/js/32.5884112c.js"><link rel="prefetch" href="/assets/js/33.cf8e21fe.js"><link rel="prefetch" href="/assets/js/34.1743facc.js"><link rel="prefetch" href="/assets/js/35.e0fca50f.js"><link rel="prefetch" href="/assets/js/36.d652d505.js"><link rel="prefetch" href="/assets/js/37.13df95a0.js"><link rel="prefetch" href="/assets/js/38.b11478e1.js"><link rel="prefetch" href="/assets/js/4.d12742be.js"><link rel="prefetch" href="/assets/js/40.b277663b.js"><link rel="prefetch" href="/assets/js/41.63782f93.js"><link rel="prefetch" href="/assets/js/42.a2e8b030.js"><link rel="prefetch" href="/assets/js/43.e4452126.js"><link rel="prefetch" href="/assets/js/44.9d784371.js"><link rel="prefetch" href="/assets/js/45.361575d6.js"><link rel="prefetch" href="/assets/js/46.5012de60.js"><link rel="prefetch" href="/assets/js/47.f7ac0c7b.js"><link rel="prefetch" href="/assets/js/48.06515ab8.js"><link rel="prefetch" href="/assets/js/49.08037c50.js"><link rel="prefetch" href="/assets/js/5.216cae74.js"><link rel="prefetch" href="/assets/js/50.82589074.js"><link rel="prefetch" href="/assets/js/51.1dfbd8cb.js"><link rel="prefetch" href="/assets/js/52.83958252.js"><link rel="prefetch" href="/assets/js/53.970e9de3.js"><link rel="prefetch" href="/assets/js/54.908be0f6.js"><link rel="prefetch" href="/assets/js/55.dbaeaa21.js"><link rel="prefetch" href="/assets/js/56.f823418e.js"><link rel="prefetch" href="/assets/js/57.2bcf837e.js"><link rel="prefetch" href="/assets/js/58.b727d4cd.js"><link rel="prefetch" href="/assets/js/59.64cadb66.js"><link rel="prefetch" href="/assets/js/6.2d0a63f8.js"><link rel="prefetch" href="/assets/js/60.587288aa.js"><link rel="prefetch" href="/assets/js/61.b9891b80.js"><link rel="prefetch" href="/assets/js/62.b9369f6f.js"><link rel="prefetch" href="/assets/js/63.70ef8b81.js"><link rel="prefetch" href="/assets/js/64.1c8d061b.js"><link rel="prefetch" href="/assets/js/65.d36dd7e3.js"><link rel="prefetch" href="/assets/js/66.5b892bbd.js"><link rel="prefetch" href="/assets/js/67.55d26def.js"><link rel="prefetch" href="/assets/js/68.e652d49a.js"><link rel="prefetch" href="/assets/js/69.7ddae14a.js"><link rel="prefetch" href="/assets/js/7.d94142de.js"><link rel="prefetch" href="/assets/js/70.7f17fae2.js"><link rel="prefetch" href="/assets/js/71.b76fec05.js"><link rel="prefetch" href="/assets/js/72.d3bad3ce.js"><link rel="prefetch" href="/assets/js/73.ab08c1a6.js"><link rel="prefetch" href="/assets/js/74.10822b62.js"><link rel="prefetch" href="/assets/js/75.e9afee1c.js"><link rel="prefetch" href="/assets/js/76.f17acc65.js"><link rel="prefetch" href="/assets/js/77.1d49a5f1.js"><link rel="prefetch" href="/assets/js/78.6be49b33.js"><link rel="prefetch" href="/assets/js/79.17b2b6a2.js"><link rel="prefetch" href="/assets/js/8.00bf7a64.js"><link rel="prefetch" href="/assets/js/80.628a0a27.js"><link rel="prefetch" href="/assets/js/81.fc8e8c67.js"><link rel="prefetch" href="/assets/js/82.65b7a56d.js"><link rel="prefetch" href="/assets/js/83.25cf7768.js"><link rel="prefetch" href="/assets/js/84.db97f76c.js"><link rel="prefetch" href="/assets/js/85.9bd26189.js"><link rel="prefetch" href="/assets/js/86.6a304a14.js"><link rel="prefetch" href="/assets/js/87.597d46d0.js"><link rel="prefetch" href="/assets/js/88.5a9fed9b.js"><link rel="prefetch" href="/assets/js/89.98dba89a.js"><link rel="prefetch" href="/assets/js/9.1748867d.js"><link rel="prefetch" href="/assets/js/90.523d2ef4.js"><link rel="prefetch" href="/assets/js/91.18cea3ba.js"><link rel="prefetch" href="/assets/js/92.fa06a667.js"><link rel="prefetch" href="/assets/js/93.d2000e69.js"><link rel="prefetch" href="/assets/js/94.cb66c30a.js"><link rel="prefetch" href="/assets/js/95.def62ef5.js"><link rel="prefetch" href="/assets/js/96.3c4eeafd.js"><link rel="prefetch" href="/assets/js/97.ba51fbf2.js"><link rel="prefetch" href="/assets/js/98.e7ed0680.js"><link rel="prefetch" href="/assets/js/99.46edcc6b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e8e4f3a3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">平平李</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div> <a href="https://github.com/PingPing-Lee" target="_blank" rel="noopener noreferrer" class="repo-link">
    My GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div> <a href="https://github.com/PingPing-Lee" target="_blank" rel="noopener noreferrer" class="repo-link">
    My GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/home/" class="sidebar-link"> 自我介绍</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/ES6/" class="sidebar-heading clickable"><span>ES6</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/ts/" class="sidebar-heading clickable"><span>TS</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/react/" class="sidebar-heading clickable"><span>React</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React Native</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/webpack/" class="sidebar-heading clickable"><span>Webpack</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/node/" class="sidebar-heading clickable"><span>Node</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/electron/" class="sidebar-heading clickable"><span>Electron</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>小程序</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>混合开发</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/perOpt/" class="sidebar-heading clickable"><span>性能优化</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端工程化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/netPro/" class="sidebar-heading clickable"><span>网络协议</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据结构与算法</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="排序去重"><a href="#排序去重" class="header-anchor">#</a> 排序去重</h2> <ol><li>编写一个方法，该方法接收两个参数，分别为 k 和 一个无序的纯数字数组。该方法在执行后，会返回数组中第 k 大的数字。特别注意，如果数组中，有两位数值一样的数字，同数值数字排名并列。如 [3,1,3,2,5,4,5] 中，第 1 大的数字为 5，第2大的数字为 4，第5大的数字为 1。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 第一种方法</span>
<span class="token keyword">function</span> <span class="token function">sortDemo</span><span class="token punctuation">(</span><span class="token parameter">k<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 去重</span>
    <span class="token keyword">const</span> setArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token comment">// 排序并反转</span>
    <span class="token keyword">const</span> sortArr <span class="token operator">=</span> setArr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> sortArr<span class="token punctuation">[</span>k<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> sortArr<span class="token punctuation">[</span>k<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token function">Error</span><span class="token punctuation">(</span><span class="token string">'未找到对应的数据'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>排序可以延伸出 冒泡排序，快速排序等</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 冒泡排序</span>
<span class="token keyword">function</span> <span class="token function">dubbleSort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>j<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">var</span> temp <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
                arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span>
                arr<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> temp
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 快速排序</span>
<span class="token keyword">function</span> <span class="token function">quickSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> arr
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> flag <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">let</span> j <span class="token operator">=</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>i<span class="token operator">&lt;</span>j<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> flag <span class="token operator">&amp;&amp;</span> i<span class="token operator">&lt;</span>j<span class="token punctuation">)</span><span class="token punctuation">{</span>
            j<span class="token operator">--</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> flag <span class="token operator">&amp;&amp;</span> i<span class="token operator">&lt;</span>j<span class="token punctuation">)</span><span class="token punctuation">{</span>
            i<span class="token operator">++</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">const</span> temp <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
        arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
        arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> temp
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> temp <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
    arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> temp
    <span class="token keyword">return</span> <span class="token punctuation">[</span> <span class="token operator">...</span><span class="token function">quickSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> flag<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token function">quickSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>去重也有很多方式</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 如： foreach 和 indexof</span>
<span class="token keyword">let</span> temp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>temp<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
    temp<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_2-proto-和-prototype-之前有什么关系"><a href="#_2-proto-和-prototype-之前有什么关系" class="header-anchor">#</a> 2. _<em>proto</em>_ 和 prototype 之前有什么关系？</h2> <p>JS规定，每一个构造函数都有一个 prototype 属性，指向构造函数的原型对象<br>
每一个对象都有 _<em>proto</em>_ 属性，指向构造函数的 prototype 原型对象
<img src="/img/js/prototype.png" alt="原型链"></p> <p><strong>总结：</strong></p> <ol><li>_<em>proto</em>_ 对象原型和和原型对象 prototype 是等价的。</li> <li>_<em>proto</em>_ 对象原型的意义就在于 为对象的查找机制提供一个方向，或者说一条线路，但是它是一个非标准属性。因此在实际开发中，不可以使用这个属性，他只是内部指向原型对象 prototype</li></ol> <h2 id="_3-call-apply-bind-的区别和作用-bind-方法如何来实现"><a href="#_3-call-apply-bind-的区别和作用-bind-方法如何来实现" class="header-anchor">#</a> 3. call(), .apply() .bind() 的区别和作用？bind 方法如何来实现？</h2> <ol><li>都可以用来改变函数内部 <strong>this</strong> 指向</li> <li><strong>call</strong> 和 <strong>apply</strong> 会调用函数，<strong>bind</strong> 不会</li> <li>传参方式不同，<strong>call</strong> 是 <code>fun.call(thisArg,arg1,arg2,...)</code>，<strong>apply</strong> 以数组的形式传参数，<code>fun.apply(thisArg,[argArrg])</code>，<strong>bind</strong> 是 <code>fun.bind(thisArg,arg1,arg2,...)</code></li> <li><strong>call</strong> 多用于继承，<strong>apply</strong> 多用于数组的操作，<strong>bind</strong> 多用于一些需要改变this 指向又不需要立即调用的函数中</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> obj <span class="token operator">=</span>  <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'muzi'</span><span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myBind</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 判断调用对象是否为函数</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">this</span> <span class="token operator">!==</span> <span class="token string">'function'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Error'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 获取参数</span>
    <span class="token keyword">var</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> fn <span class="token operator">=</span> <span class="token keyword">this</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">Fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// 根据调用方式，传入不同绑定值</span>
        <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token keyword">instanceof</span> <span class="token class-name">Fn</span> <span class="token operator">?</span> <span class="token keyword">new</span> <span class="token class-name">fn</span> <span class="token operator">:</span> obj<span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token operator">...</span>args<span class="token punctuation">,</span> <span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// fn.myBind(obj, 1, 2)(3,4)</span>

<span class="token keyword">let</span> foo <span class="token operator">=</span> fn<span class="token punctuation">.</span><span class="token function">myBind</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
<span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="js-中基础数据类型有哪几种-了解包装对象么"><a href="#js-中基础数据类型有哪几种-了解包装对象么" class="header-anchor">#</a> js 中基础数据类型有哪几种？ 了解包装对象么？</h2> <ol><li><p>JS 中基础数据类型有 <em><strong><font color="#d63200">String, Number, boolean, Null, Undefined</font></strong></em> ，ES6 新增 <em><strong><font color="#d63200">Symbol</font></strong></em></p></li> <li><p>JS 的三种原始类型的值： 字符串，数值，布尔值，在特定的条件下，可以转为对象，称之为原始类型的 <strong>“包装对象”</strong><br>
所谓的 “包装对象”，就是 字符串，数值，布尔值 分别对应的 Number、String、Boolean 三个原生对象，这三个原生对象把原始类型的值包装成对象</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> boo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> num<span class="token punctuation">,</span> <span class="token keyword">typeof</span> str<span class="token punctuation">,</span> <span class="token keyword">typeof</span> boo<span class="token punctuation">)</span>
</code></pre></div></li></ol> <h2 id="如何判断this-箭头函数的this是什么"><a href="#如何判断this-箭头函数的this是什么" class="header-anchor">#</a> 如何判断this？箭头函数的this是什么？</h2> <ol><li><p>函数中的 <em><strong><font color="#d63200">this</font></strong></em> 一般是在调用的时候确定的，调用方式不同，指向也不同，一般指向调用者</p> <table><thead><tr><th style="text-align:center;">调用方式</th> <th style="text-align:center;">this指向</th></tr></thead> <tbody><tr><td style="text-align:center;">普通函数调用</td> <td style="text-align:center;">window</td></tr> <tr><td style="text-align:center;">构造函数调用</td> <td style="text-align:center;">实例对象(原型对象里的方法也指向实例对象)</td></tr> <tr><td style="text-align:center;">对象方法调用</td> <td style="text-align:center;">该方法所属对象</td></tr> <tr><td style="text-align:center;">事件绑定方法</td> <td style="text-align:center;">绑定事件对象</td></tr> <tr><td style="text-align:center;">定时器函数</td> <td style="text-align:center;">window</td></tr> <tr><td style="text-align:center;">立即执行函数</td> <td style="text-align:center;">window</td></tr></tbody></table></li> <li><p>箭头函数不绑定 <em><strong><font color="#d63200">this</font></strong></em> 关键字，函数体内的 <em><strong><font color="#d63200">this</font></strong></em> 对象就是函数定义时所在位置的上下文对象，而不是使用时所在的对象</p></li></ol> <h2 id="如何中断ajax请求"><a href="#如何中断ajax请求" class="header-anchor">#</a> 如何中断ajax请求？</h2> <ol><li>可以 <strong>设置超时时间</strong> 让 Ajax 自动断开</li> <li>手动去调用 <strong><code>XMLHttpRequest</code></strong> 对象上的 <strong><font color="#d63200">abort</font></strong> 方法 去停止请求</li></ol> <h2 id="什么是同步-什么是异步"><a href="#什么是同步-什么是异步" class="header-anchor">#</a> 什么是同步？什么是异步？</h2> <p>JS 语言是单线程机制。所谓单线程就是按次序执行，执行完一个任务再执行下一个， 不能同时进行多个任务和流程。</p> <p>所有任务可以分成两种，一种是 <strong><font color="#d63200">同步任务（synchronous）</font></strong>，另一种是 <strong><font color="#d63200">异步任务（asynchronous）</font></strong></p> <p><strong>同步任务</strong> 指的是，在主线程上排队执行的任务，只有前一个任务执行完毕，才能执行后一个任务；</p> <p><strong>异步任务</strong> 指的是，不进入主线程、而进入&quot;任务队列&quot;（task queue）的任务，只有等主线程任务执行完毕，&quot;任务队列&quot;开始通知主线程，请求执行任务，该任务才会进入主线程执行</p> <h2 id="什么是宏任务-什么是微任务"><a href="#什么是宏任务-什么是微任务" class="header-anchor">#</a> 什么是宏任务？什么是微任务？</h2> <p><strong>宏任务</strong> 是由宿主(浏览器，Node)发起的，进程的切换就是宏任务</p> <p><strong>微任务</strong> 由 JavaScript 自身发起，线程的切换就是微任务</p> <p>在ES3以及以前的版本中，JavaScript本身没有发起异步请求的能力，也就没有微任务的存在。在ES5之后，JavaScript引入了Promise，这样，不需要浏览器，JavaScript引擎自身也能够发起异步任务了。</p> <table><thead><tr><th style="text-align:left;"></th> <th style="text-align:left;">宏任务（macrotask）</th> <th style="text-align:left;">微任务（microtask）</th></tr></thead> <tbody><tr><td style="text-align:left;">谁发起的</td> <td style="text-align:left;">宿主（Node、浏览器）</td> <td style="text-align:left;">JS引擎</td></tr> <tr><td style="text-align:left;">具体事件</td> <td style="text-align:left;">1. script (可以理解为外层同步代码)  <br>2. setTimeout/setInterval <br>3. UI rendering/UI事件 <br>4. postMessage，MessageChannel<br>5. setImmediate，I/O（Node.js）</td> <td style="text-align:left;">1. Promise <br>2. MutaionObserver <br>3. Object.observe（已废弃；Proxy 对象替代）<br>4. process.nextTick（Node.js）</td></tr> <tr><td style="text-align:left;">谁先运行</td> <td style="text-align:left;">后运行</td> <td style="text-align:left;">先运行</td></tr> <tr><td style="text-align:left;">会触发新一轮Tick吗</td> <td style="text-align:left;">会</td> <td style="text-align:left;">不会</td></tr></tbody></table> <h2 id="什么是回调-回调使用中存在什么问题"><a href="#什么是回调-回调使用中存在什么问题" class="header-anchor">#</a> 什么是回调?回调使用中存在什么问题?</h2> <p>回调即是函数指针的调用，即是一个通过函数指针调用的函数，通常都是为了解决异步而存在的</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        
    callback <span class="token operator">&amp;&amp;</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>    
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;我是回调函数&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>使用回调函数有一个很大缺点 就是造成回调地狱，回到地狱是 为了实现某些逻辑出现函数的层层嵌套，类似如下代码：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">fn</span><span class="token punctuation">(</span>ele<span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token string">&quot;left&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>             
    <span class="token function">fn</span><span class="token punctuation">(</span>ele<span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token string">&quot;top&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                     
        <span class="token function">fn</span><span class="token punctuation">(</span>ele<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&quot;left&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                         
            <span class="token function">fn</span><span class="token punctuation">(</span>ele<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&quot;top&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                          
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;所有运动完毕 &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                         
            <span class="token punctuation">}</span><span class="token punctuation">)</span>                  
        <span class="token punctuation">}</span><span class="token punctuation">)</span>             
    <span class="token punctuation">}</span><span class="token punctuation">)</span>      
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>回调地狱会造成可读性及可维护性变差。同样每个嵌套函数耦合性强，一层变动会引起其他的结果变动。同样回调地狱如果出现错误不好处理错误。</p> <p>解决回调地狱问题可以通过观察者模式、promise、async /await来处理。上面的代码可以改写成：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span>
        <span class="token keyword">await</span> <span class="token function">fn</span><span class="token punctuation">(</span>ele<span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token string">&quot;left&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">await</span> <span class="token function">fn</span><span class="token punctuation">(</span>ele<span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token string">&quot;top&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">await</span> <span class="token function">fn</span><span class="token punctuation">(</span>ele<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&quot;left&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">await</span> <span class="token function">fn</span><span class="token punctuation">(</span>ele<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&quot;top&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="promise-allsettled-了解吗-动手实现一下-promise-allsettled"><a href="#promise-allsettled-了解吗-动手实现一下-promise-allsettled" class="header-anchor">#</a> Promise.allSettled 了解吗？动手实现一下 Promise.allSettled?</h2> <p><strong><code>Promise.allSettled()</code></strong> 是ES2020 新特性，可以执行多个 promise 对象，获取多个 promise 对象状态，无论成功或者失败的状态。</p> <p>当您有多个彼此不依赖的异步任务成功完成时，或者您总是想知道每个promise的结果时，通常使用它</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">MySettled</span><span class="token punctuation">(</span><span class="token parameter">list</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        
    <span class="token keyword">let</span> resArr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>        
    <span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">0</span>        
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>            
        list<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span>key</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>                
            <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>                
            item<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>                    
                obj<span class="token punctuation">[</span><span class="token string">'status'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;fulfilled&quot;</span><span class="token punctuation">;</span>                    
                obj<span class="token punctuation">.</span>value <span class="token operator">=</span> res<span class="token punctuation">;</span>                    
                resArr<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> obj<span class="token punctuation">;</span>                    
                num<span class="token operator">++</span>                    
                <span class="token keyword">if</span><span class="token punctuation">(</span>num<span class="token operator">===</span>list<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span>                        
                    <span class="token function">resolve</span><span class="token punctuation">(</span>resArr<span class="token punctuation">)</span><span class="token punctuation">;</span>                     
                <span class="token punctuation">}</span>                
            <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token parameter">err</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>                    
                obj<span class="token punctuation">[</span><span class="token string">'status'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;rejected&quot;</span><span class="token punctuation">;</span>                    
                obj<span class="token punctuation">.</span>reson <span class="token operator">=</span> err<span class="token punctuation">;</span>                    
                resArr<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> obj<span class="token punctuation">;</span>                    
                num<span class="token operator">++</span>                    
                <span class="token keyword">if</span><span class="token punctuation">(</span>num<span class="token operator">===</span>list<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span>                        
                    <span class="token function">resolve</span><span class="token punctuation">(</span>resArr<span class="token punctuation">)</span><span class="token punctuation">;</span>                  
                <span class="token punctuation">}</span>                
            <span class="token punctuation">}</span><span class="token punctuation">)</span>            
        <span class="token punctuation">}</span><span class="token punctuation">)</span>        
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
<span class="token punctuation">}</span>
</code></pre></div><h2 id="vue-中组件间有哪些通信方式"><a href="#vue-中组件间有哪些通信方式" class="header-anchor">#</a> vue 中组件间有哪些通信方式?</h2> <ol><li><strong><font color="#d63200">props / $emit</font></strong><br>
父组件A 通过 props 属性向 子组件B 传递，B to A 通过在 B 组件中 $emit, A 组件中 v-on 的方式实现。</li> <li><strong><font color="#d63200">$emit / $on</font></strong><br>
这种方法通过一个空的 Vue 实例作为中央事件总线（事件中心），用它来触发事件和监听事件,巧妙而轻量地实现了任何组件间的通信，包括父子、兄弟、跨级。</li> <li><strong><font color="#d63200">Vuex</font></strong><br> <strong><code>Vuex</code></strong> 是实现组件全局状态（数据）管理的一种机制，可以方便的实现组件之间数据的共享。</li> <li><strong><font color="#d63200">provide / inject</font></strong><br> <strong><code>provide / inject</code></strong> 需要一起使用，以允许一个祖先组件向其所有子孙后代注入一个依赖，不论组件层次有多深，并在起上下游关系成立的时间里始终生效<br> <strong><code>provide / inject</code></strong> API 主要解决了跨级组件间的通信问题，不过它的使用场景，主要是子组件获取上级组件的状态，跨级组件间建立了一种主动提供与依赖注入的关系。</li> <li><strong><font color="#d63200">$attrs / $listeners</font></strong><br> <strong><code>$attrs</code></strong>：包含了父作用域中不被 prop 所识别 (且获取) 的特性绑定 (class 和 style 除外)。当一个组件没有声明任何 prop 时，这里会包含所有父作用域的绑定 (class 和 style 除外)，并且可以通过 v-bind=&quot;$attrs&quot; 传入内部组件。通常配合 interitAttrs 选项一起使用。<br> <strong><code>$listeners</code></strong>：包含了父作用域中的 (不含 .native 修饰器的) v-on 事件监听器。它可以通过 v-on=&quot;$listeners&quot; 传入内部组件</li> <li><strong><font color="#d63200">$parent / $children与 ref</font></strong><br> <strong><code>ref</code></strong>：如果在普通的 DOM 元素上使用，引用指向的就是 DOM 元素；如果用在子组件上，引用就指向组件实例<br> <strong><code>$parent / $children</code></strong>：访问父 / 子实例</li></ol> <h2 id="vue-中-v-show-和-v-if-的区别是什么"><a href="#vue-中-v-show-和-v-if-的区别是什么" class="header-anchor">#</a> vue 中 v-show 和 v-if 的区别是什么？</h2> <p><strong><code>v-show</code></strong> 是元素会被渲染，基于 <strong><code>css</code></strong> 进行隐藏和显示<br> <strong><code>v-if</code></strong> 如果条件为 <code>false</code> 时，不会被渲染，直到条件变为 <code>true</code> 时才会被渲染<br> <strong><code>v-if</code></strong> 有更高的切换开销，<strong><code>v-show</code></strong> 有更高的初始渲染开销，所以如果需要频繁切换的使用 <strong><code>v-show</code></strong> 比较好，如果运行时条件很少改变的就用 <strong><code>v-if</code></strong></p> <h2 id="keep-alive-组件有什么作用"><a href="#keep-alive-组件有什么作用" class="header-anchor">#</a> keep-alive 组件有什么作用？</h2> <p><strong><code>keep-alive</code></strong> 是Vue的内置组件，能在组件切换过程中将状态保留在内存中，防止重复渲染 <strong>DOM</strong>，可以对组件进行缓存。<br>
如果你需要在组件切换的时候，保存一些组件的状态防止多次渲染，就可以使用 keep-alive 组件包裹需要保存的组件。</p> <p>对于 <strong><code>keep-alive</code></strong> 组件来说，它拥有两个独有的生命周期钩子函数，分别为 activated 和 deactivated 。用 keep-alive 包裹的组件在切换时不会进行销毁，而是缓存到内存中并执行 deactivated 钩子函数，命中缓存渲染后会执行 actived 钩子函数。</p> <h2 id="说下vue生命周期钩子函数"><a href="#说下vue生命周期钩子函数" class="header-anchor">#</a> 说下vue生命周期钩子函数?</h2> <p><strong><code>beforeCreate</code></strong> 组建实例刚被创建，数据观测（data observer）和 event/watch事件配置之前被调用<br> <strong><code>created</code></strong> 组建实例创建完成，此时数据观测、属性和方法的运算都已经完成，但是 $el 属性不可见<br> <strong><code>beforeMount</code></strong> 在挂载开始之前被调用<br> <strong><code>mounted</code></strong> 挂载成功之后被调用，el 被新创建的 vm.$el 替换<br> <strong><code>beforeUpdate</code></strong> 数据更新之前调用<br> <strong><code>update</code></strong> 数据更新完成时调用，组件dom已经更新<br> <strong><code>beforeDestory</code></strong> 组件销毁前调用<br> <strong><code>destoryed</code></strong> 组件销毁后调用<br> <strong><code>activated</code></strong> 组件被激活时调用<br> <strong><code>deactivated</code></strong> 组件被移除时调用</p> <h2 id="vue中computed和watch区别"><a href="#vue中computed和watch区别" class="header-anchor">#</a> vue中computed和watch区别?</h2> <ol><li>计算属性 <strong><code>computed</code></strong> ：
<ul><li>支持缓存，只有依赖数据发生改变，才会重新进行计算</li> <li>不支持异步，如果 computed 内有异步操作时，无法监听数据的变化</li> <li>如果一个属性 是有其他属性计算而得，这个属性依赖其他属性，一般用 computed</li> <li>在 computed 中，属性都有一个 get 和 set 方法，默认走 get 方法，但数据变化时，走 set 方法</li></ul></li> <li>监听属性 <strong><code>watch</code></strong> ：
<ul><li>不支持缓存，依赖数据改变，直接触发相应的操作</li> <li>支持异步</li> <li>监听的函数接收两个参数： 最新的值 和 更新之前的值</li> <li>监听数据必须是data中声明过或者父组件传递过来的props中的数据，当数据变化时，触发其他操作，函数有两个参数：
<ul><li>immediate：组件加载立即触发回调函数执行</li> <li>deep: 深入观察，监听器会一层层的往下遍历，给对象的所有属性都加上这个监听器，但是这样性能开销就会非常大了，任何修改 obj 里面任何一个属性都会触发这个监听器里的 handler,想要优化的话，可以使用字符串的形式监听 (obj.a)</li></ul></li></ul></li></ol> <h2 id="react-的组件间通信都有哪些形式"><a href="#react-的组件间通信都有哪些形式" class="header-anchor">#</a> React 的组件间通信都有哪些形式？</h2> <ol><li>父组件传值给子组件，通过 props 传值</li> <li>子组件传值给父组件，在 React 中子组件想传值给父组件，是父组件把回调函数直接通过 属性的方式传给子组件，称之为状态提升，即把子组件的状态提升出来，派发到父组件上，告诉子组件数据发生变化时应该调用哪个函数</li> <li>组件跨层级通信，React.createContext 来创建上下文，提供一种不需要每层设置 props 就能跨多级组件传递数据的方式
Provider 提供上下文，Consumer 消费上下文</li> <li>非嵌套组件间通信，采用自定义事件的方式
<ul><li><p>首先安装一个依赖包</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> <span class="token function">install</span> events <span class="token parameter variable">--save</span>
</code></pre></div></li> <li><p>新建一个 event.js，引入 events 包，并向外提供一个事件对象，供通信时使用：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> EventEmitter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;events&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">EventEmitter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>A组件引入 event.js，并用 addListener 添加监听器事件，在  B 组件中 emit 触发事件，是典型的发布/订阅模式</p></li></ul></li></ol> <h2 id="react-中如何实现路由懒加载"><a href="#react-中如何实现路由懒加载" class="header-anchor">#</a> React 中如何实现路由懒加载？</h2> <ol><li>import()<br>
符合ECMAScript提议的import()语法，该提案与普通 import 语句或 require 函数的类似，但返回一个 Promise 对象。这意味着模块时异步加载的</li> <li>require.ensure<br>
webpack指定的使用方式</li> <li>lazyload-loader
<ul><li>webpack 配置文件中 使用lazyload-loader（必须将lazuyload-loader 放置在use的最右侧）</li> <li>业务代码中，使用lazy! 前缀 代表需要懒加载的Router</li></ul></li></ol> <h2 id="react-的生命周期函数都有哪些-分别有什么作用"><a href="#react-的生命周期函数都有哪些-分别有什么作用" class="header-anchor">#</a> React 的生命周期函数都有哪些，分别有什么作用？</h2> <ol><li><p>挂载时</p> <ul><li>constructor() 数据接收 实现继承super(props)</li> <li>static getDerivedStateFromProps() 会在调用 render 方法之前调用</li> <li>render() 渲染组件 和 html 标签</li> <li>componentDidMount() 会在组件挂载后（插入 DOM 树中）立即调用</li></ul></li> <li><p>更新时</p> <ul><li>tatic getDerivedStateFromProps() 会在调用 render 方法之前调用，并且在初始挂载及后续更新时都会被调用</li> <li>shouldComponentUpdate() 检测组件内的变化 可以用作页面性能的优化(默认值为true)</li> <li>render() 组件更新之后渲染组件</li> <li>getSnapshotBeforeUpdate()  在最近一次渲染输出（提交到 DOM 节点）之前调用</li> <li>componentDidUpdate() 会在组件更新后会被立即调用。首次渲染不会执行此方法。</li></ul></li> <li><p>卸载时</p> <ul><li>componentWillUnmount 会在组件卸载及销毁之前直接调用。</li></ul></li></ol> <h2 id="说一下react-hooks在平时开发中需要注意的问题和原因"><a href="#说一下react-hooks在平时开发中需要注意的问题和原因" class="header-anchor">#</a> 说一下React Hooks在平时开发中需要注意的问题和原因?</h2> <ol><li>确保 useEffect 依赖数组的正确性，但是也正是因为依赖性，可能 useEffect 依赖某个函数的不可变性，这个函数的不可变性又依赖于另一个函数的不可变性，这样便形成了一条依赖链。一旦这条依赖链的某个节点意外地被改变了，你的useEffect就被意外地触发了，如果你的useEffect是幂等的操作，可能带来的是性能层次的问题了。所以尽量不要在 useEffect里面写太多的依赖项，划分这些依赖项成多个单一功能的useEffect。其实这点是遵循了软件设计的“单一职责模式”。</li> <li>useReducer 的初始值，为什么还原不了？ 修改数据时，要注意，不要在原有数据上进行属性操作，重新创建新的对象进行操作即可</li> <li>在函数类型的组件中 hooks不擅长异步的代码， 当我们有异步操作的时候，经常会碰到异步回调的变量引用是之前的</li></ol> <h2 id="react-的-setstate-方法是异步还是同步"><a href="#react-的-setstate-方法是异步还是同步" class="header-anchor">#</a> React 的 setState 方法是异步还是同步？</h2> <p>在react中，原生js监听事件中的setState是同步的，如addEventListener、setTimeout等
而在react控制的事件处理函数中，setState是异步的，如onClick等</p> <p>setState有两种设置方式：</p> <ol><li>setState传入对象，直接修改state中的数据</li> <li>setState中传入两个函数，第一个函数有两个参数，第一个参数是当前的state，第二个参数是当前的props，返回的是要修改的state对象，类似于第一种设置方式；第二个函数是更新后的回调函数。</li></ol> <h2 id="有没有写过-koa-中间件-说下中-间件原理-介绍下自己写过的中间件"><a href="#有没有写过-koa-中间件-说下中-间件原理-介绍下自己写过的中间件" class="header-anchor">#</a> 有没有写过 Koa 中间件，说下中 间件原理，介绍下自己写过的中间件?</h2> <p>没有用过，等老师科普吧😭</p> <h2 id="如何判断当前脚本运行在浏览器还是node环境中"><a href="#如何判断当前脚本运行在浏览器还是node环境中" class="header-anchor">#</a> 如何判断当前脚本运行在浏览器还是node环境中？</h2> <p>通过判断 global 对象是否为 window，为 window 在浏览器中运行，不为 window 在 node 环境中运行</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span> <span class="token operator">===</span> window <span class="token operator">?</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'browser'</span><span class="token punctuation">)</span> <span class="token operator">:</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'node'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="请描述一下-cookies-sessionstorage和localstorage区别"><a href="#请描述一下-cookies-sessionstorage和localstorage区别" class="header-anchor">#</a> 请描述一下 cookies sessionStorage和localstorage区别？</h2> <ol><li>cookies 是用来标识用户信息的，浏览器在发送请求时，会主动带上 cookies 信息，所以cookies 会在浏览器和服务器之间来回传递，同时 cookies 对大小有限制，单个文件不能超过 4k，cookies 有过期时间，有效期之前始终有效，关闭浏览器也还存在</li> <li>sessionStorage 和 localstorage 不会主动发给服务器，也有大小限制，但是比 cookies 大很多，5M 以内都可以，sessionStorage 关闭浏览器自动删除了，localstorage 持久性存储在本地，关闭浏览器也存在，除非主动删除，不然不会丢失</li></ol> <h2 id="介绍一下-node-常用模块-并且详细介绍下-stream"><a href="#介绍一下-node-常用模块-并且详细介绍下-stream" class="header-anchor">#</a> 介绍一下 node 常用模块，并且详细介绍下 Stream?</h2> <p>常用模块：</p> <ol><li>fs：模块可用于与文件系统进行交互</li> <li>path：路径模块提供了一些实用工具，用于处理文件和目录路径</li> <li>http：模块用于创建一个能够处理和响应http响应的服务</li> <li>url：用于处理和解析URL</li> <li>querystring：查询字符串模块，用于提供解析和格式化URL查询字符串的工具</li> <li>cheerio：是jquery核心功能的一个快速灵活而又简洁的实现，主要是为了用在服务器端需要对DOM进行操作的地方</li> <li>crypto：该模块提供了加密功能，包括 OpenSSL 的哈希、HMAC、加密、解密、签名、以及验证功能的一整套封装</li> <li>nodemon：node自动重启工具，可以用来监控node源代码的任何变化，并自动重启你的服务器，可以使用npm来进行全局安装</li></ol> <p>Stream：<br>
Node.js中有四种基本的流类型，如下：</p> <ol><li>Readable--可读的流(比如 fs.createReadStream()).</li> <li>Writable--可写的流(比如 fs.createWriteStream()).</li> <li>Duplex--可读写的流</li> <li>Transform---在读写过程中可以修改和变换数据的Duplex流</li></ol> <p>nodeJS中的流最大的作用是：读取大文件的过程中，不会一次性的读入到内存中。每次只会读取数据源的一个数据块。
然后后续过程中可以立即处理该数据块(数据处理完成后会进入垃圾回收机制)。而不用等待所有的数据。</p> <h2 id="node-如何和-mysql-进行通信"><a href="#node-如何和-mysql-进行通信" class="header-anchor">#</a> Node 如何和 MySQL 进行通信?</h2> <ol><li>先安装包 <code>npm install mysql</code></li> <li>然后 导入mysql包模块var <code>mysql = require('mysql')</code></li></ol> <h2 id="浏览器为什么要阻止跨域请求-如何解决跨域-每次跨域请求都需要到达服务端吗"><a href="#浏览器为什么要阻止跨域请求-如何解决跨域-每次跨域请求都需要到达服务端吗" class="header-anchor">#</a> 浏览器为什么要阻止跨域请求? 如何解决跨域?每次跨域请求都需要到达服务端吗?</h2> <ol><li>如果跨域可以请求的话，很多的服务器都会受到额外的攻击；</li> <li>黑客可以在别人的网站代码里面去恶意的攻击其他公司的服务器；</li> <li>因为浏览器是客户端，客户端的群体太大，而服务器是可以随便哪里都可以访问的，没有限制</li></ol> <p>解决跨域一般有以下几种方法：</p> <ol><li>JSONP：只支持 GET，不支持 POST 请求，不安全 XSS</li> <li>跨域资源共享 CORS：需要后台配合进行相关的设置</li> <li>websocket：需要后台配合修改协议，不兼容，需要使用 http://socket.io</li> <li>Nginx Proxy：使用代理去避开跨域请求，需要修改 nginx、apache 等的配置</li> <li>postMessage：配合使用 iframe，需要兼容 IE6、7、8、9</li> <li>document.domain：仅限于同一域名下的子域</li> <li>location.hash + iframe</li> <li>window.name + iframe 跨域</li></ol> <p>跨域并非浏览器限制了发起跨站请求，而是跨站请求可以正常发起，但是返回结果被浏览器拦截了。
每次跨域请求都会发出，服务器端也会做出响应，只是浏览器端在接受响应的时候会基于同源策略进行拦截。
注意：有些浏览器不允许从 HTTPS 的跨域访问 HTTP，比如 Chrome 和 Firefox，这些浏览器在请求还未发出的时候就会拦截请求，这是一个特例</p> <h2 id="token-一般是存放在哪里-token-放在-cookie-和放在-localstorage、sessionstorage-中-有什么不同"><a href="#token-一般是存放在哪里-token-放在-cookie-和放在-localstorage、sessionstorage-中-有什么不同" class="header-anchor">#</a> Token 一般是存放在哪里? Token 放在 cookie 和放在 localStorage、sessionStorage 中 有什么不同?</h2> <p>Token 一般放在cookie里面</p> <p>存在 cookie 中，只在过期时间之前有效，同时 cookie 对大小有限制，只能存放比较小对数据，同时会在浏览器和服务端之间来回传递<br>
存在 localStorage中，数据持久有效，较安全<br>
存在 sessionStorage 中，关闭浏览器就会自动删除</p> <h2 id="websocket-是怎么实现点对点通信和广播通信的"><a href="#websocket-是怎么实现点对点通信和广播通信的" class="header-anchor">#</a> WebSocket 是怎么实现点对点通信和广播通信的？</h2> <ol><li>短链接型：
<ul><li>轮询<br>
客户端不断向服务器发起请求索取消息<br>
优点：基本保障消息即时性<br>
缺点：大量的请求导致客户端和服务端的压力倍增</li> <li>长轮询<br>
客户端向服务器发起请求,在HTTP最大超时时间内不断开请求获取消息,超时后重新发起请求<br>
优点：基本保障消息即时性<br>
缺点：长期占用客户端独立线程,长期占用服务端独立线程,服务器压力倍增</li></ul></li> <li>长连接型：
基于socket长连接,由于长连接是双向且有状态的保持连接,所以服务端可以有效的主动的向客户端推送数据
<ul><li>socketio长连接协议<br>
优点:消息即时,兼容性强<br>
缺点:接入复杂度高,为保障兼容性冗余依赖过多较重</li> <li>websocket长连接协议<br>
优点：消息即时,轻量级,灵活适应多场景,机制更加成熟<br>
缺点：相比socket兼容性较差<br>
总体来说,Socketio紧紧只是为了解决通讯而存在的,而Websocket是为了解决更多更复杂的场景通讯而存在的</li></ul></li></ol> <h2 id="客户端缓存有几种方式-浏览器出现-from-disk、from-memory-的-策略是啥"><a href="#客户端缓存有几种方式-浏览器出现-from-disk、from-memory-的-策略是啥" class="header-anchor">#</a> 客户端缓存有几种方式?浏览器出现 from disk、from memory 的 策略是啥?</h2> <p>cookie，sessionStorage，localStorage，离线缓存</p> <p>离线缓存与传统浏览器缓存区别：</p> <ol><li>离线缓存是针对整个应用，浏览器缓存是单个文件</li> <li>离线缓存断网了还是可以打开页面，浏览器缓存不行</li> <li>离线缓存可以主动通知浏览器更新资源</li></ol> <p>在chrome浏览器中的控制台Network中size栏通常会有三种状态</p> <ol><li>from memory cache：
从内存中获取，不会请求服务器，一般已经加载过该资源且缓存在内存中，关闭该页面时，该资源就会被内存释放掉</li> <li>from disk cache：
从磁盘中获取，不会请求服务器，也是已经加载过的资源，关闭页面不会释放掉</li></ol> <p>三级缓存原理：<br>
先去内存看，如果有，直接加载，如果内存没有，择取硬盘获取，如果有直接加载，如果硬盘也没有，那么就进行网络请求</p> <h2 id="说一下-cors-的简单请求和复杂请求的区别"><a href="#说一下-cors-的简单请求和复杂请求的区别" class="header-anchor">#</a> 说一下 CORS 的简单请求和复杂请求的区别?</h2> <p>CORS是一个W3C标准，全称是&quot;跨域资源共享&quot;（Cross-origin resource sharing）。</p> <p>同时满足以下两大条件就是简单请求：</p> <ol><li>请求方法是 HEAD，GET，PUT 三者之一</li> <li>HTTP的头信息不超出以下字段：
Accept、Accept-Language、Content-Language、Last-Event-ID、Content-Type的值只限于 application/x-www-form-urlencoded、multipart/form-data、text/plain
凡是不满足上面两个条件的都是复杂请求</li></ol> <p>简单请求，浏览器直接发出 CORS请求，会在请求头加上 Origin 字段，用来说明本次请求的源（协议 + 域名 + 端口），如果是指定的源，服务器的响应头中会多出几个字段：</p> <ol><li>Access-Control-Allow-Origin：表示允许的源</li> <li>Access-Control-Allow-Credentials: 表示是否允许发送cookie，默认是不允许的，想要设置成 true，前端需在 Ajax 请求中打开 withCredentials属性：
var xhr = new XMLHttpRequest();
xhr.withCredentials = true;</li> <li>Access-Control-Expose-Headers：表示自定义头部信息字段</li> <li>Content-Type</li></ol> <p>复杂请求，是指对服务器有特殊要求的请求，如 PUT、DELETE或者 Content-Type 的值是 application/json<br>
复杂请求发出CORS请求，会在通信之前，增加一次 Opions 预检请求，询问服务器当前源是否在许可的名单之中，服务器返回成功，浏览器才会发出正式的 XMLHttpRequest 请求<br>
预请求的头部信息中也有 Origin，表示请求来自哪个源，还有 ：</p> <ol><li>Access-Control-Request-Method： 用来列出浏览器的CORS请求会用到哪些HTTP方法</li> <li>Access-Control-Request-Headers：指定浏览器CORS请求会额外发送的头信息字段</li></ol> <h2 id="节流和防抖分别是什么-在什么场景下使用-请分别实现一个节流函数和一个防抖函数"><a href="#节流和防抖分别是什么-在什么场景下使用-请分别实现一个节流函数和一个防抖函数" class="header-anchor">#</a> 节流和防抖分别是什么？在什么场景下使用？请分别实现一个节流函数和一个防抖函数</h2> <p>节流是为了防止一段时间内多次触发函数</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> <span class="token keyword">await</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> lastTime <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> nowTime <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>nowTime <span class="token operator">-</span> lastTime <span class="token operator">&gt;</span> <span class="token keyword">await</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
            lastTime <span class="token operator">=</span> nowTime
        <span class="token punctuation">}</span>
        
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>防抖是在一段时间只执行最后一次</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">debounce</span> <span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> <span class="token keyword">await</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> timer <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span> <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">await</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span><span class="token function">debounce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="有一个输入框-假设用户需要搜索字符串-123-但是为了友好体验-当用户输入-1-的时候显示-1-的联想词汇-12-然后做视图渲染-输入-12-的时候-显示-12-的联想词汇-123-然后视图渲染。现在由于网络抖动-12-的联想词结果早于-1-的结果返回-如何处理避免渲染错误"><a href="#有一个输入框-假设用户需要搜索字符串-123-但是为了友好体验-当用户输入-1-的时候显示-1-的联想词汇-12-然后做视图渲染-输入-12-的时候-显示-12-的联想词汇-123-然后视图渲染。现在由于网络抖动-12-的联想词结果早于-1-的结果返回-如何处理避免渲染错误" class="header-anchor">#</a> 有一个输入框，假设用户需要搜索字符串“123”，但是为了友好体验，当用户输入“1“的时候显示“1“的联想词汇“12”然后做视图渲染，输入“12”的时候，显示“12”的联想词汇“123”然后视图渲染。现在由于网络抖动，“12”的联想词结果早于“1”的结果返回，如何处理避免渲染错误？</h2> <p>可以利用防抖函数，在输入完成之后的指定时间之内再去获取联想词</p> <h2 id="怎么禁止让js读取cookie-怎么让cookie只在https下传输"><a href="#怎么禁止让js读取cookie-怎么让cookie只在https下传输" class="header-anchor">#</a> 怎么禁止让js读取cookie？怎么让cookie只在HTTPS下传输？</h2> <ol><li>设置HttpOnly</li></ol></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.5f3204df.js" defer></script><script src="/assets/js/2.733019b2.js" defer></script><script src="/assets/js/39.616fe160.js" defer></script>
  </body>
</html>
